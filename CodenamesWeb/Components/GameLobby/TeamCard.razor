<div class="team-card-layout">
    @if (ShowJoinText)
    {
        <div class="join-team-text ibm-plex-mono-semibold">
            Приєднатись
        </div>
    }
    <div style="box-shadow: 0px 0px 5px 3.5px var(@GetColorStyle(Color));"
        class="team-card red-light"
         @onmouseenter="() => ChangeJoinTextVisibility(true)"
         @onmouseleave="() => ChangeJoinTextVisibility(false)">
        @foreach (var user in Users)
        {
            <div class="user-name-field">
                <GhostIcon Size="13px" Color="ColorStyle.White"></GhostIcon> @user.UserName
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<UserDto> Users { get; set; } = new();

    [Parameter]
    public int MaxRoomCount { get; set; } = 4;

    private bool ShowJoinText { get; set; } = false;

    protected override void OnInitialized()
    {
        Users.Add(
            new UserDto("Kirgo")
        );
        Users.Add(
            new UserDto("szn")
        );
        Users.Add(
            new UserDto("alinka")
        );
        Users.Add(
            new UserDto("oleg")
        );
        base.OnInitialized();
    }

    void ChangeJoinTextVisibility(bool showText)
    {
        ShowJoinText = showText;
        StateHasChanged();
    }

    [Parameter]
    public ColorStyle Color { get; set; } = ColorStyle.Red;

    protected string GetColorStyle(ColorStyle color)
    {
        switch (color)
        {
            case ColorStyle.Red: return "--red-color";
            case ColorStyle.Blue: return "--blue-color";
            case ColorStyle.Yellow: return "--yellow-color";
            case ColorStyle.Green: return "--green-color";
            case ColorStyle.Dark: return "--dark-color";
            default: return "--white-color";
        }
    }
}
